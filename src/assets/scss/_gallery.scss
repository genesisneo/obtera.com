.gallery,
.widget-area {
  margin-bottom: 1rem;
  .gallery-item {
    display: inline-block;
    margin: 0 0 1rem;
    padding: 0;
    width: 100%;
    max-width: 100%;
    text-align: center;
    vertical-align: top;
    a,
    a:hover,
    a:focus {
      background: none;
      -webkit-box-shadow: none;
      box-shadow: none;
    }
    a {
      img {
        display: block;
        margin: 0 auto;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        -webkit-transition: -webkit-filter .16s ease-out;
        transition: -webkit-filter .16s ease-out;
        -webkit-transition: filter .16s ease-out;
        transition: filter .16s ease-out;
      }
      &:hover,
      &:focus {
        img {
          -webkit-filter: opacity(60%);
          filter: opacity(60%);
        }
      }
    }
  }
  .gallery-caption {
    display: block;
  }
  &.gallery-columns-1 {
    .gallery-item {
      width: 100%;
    }
  }
  &.gallery-columns-2 {
    .gallery-item {
      max-width: 50%;
    }
  }
  &.gallery-columns-3 {
    .gallery-item {
      max-width: 33.33%;
    }
  }
  &.gallery-columns-4 {
    .gallery-item {
      max-width: 25%;
    }
  }
  &.gallery-columns-5 {
    .gallery-item {
      max-width: 20%;
    }
    .gallery-caption {
      display: none;
    }
  }
  &.gallery-columns-6 {
    .gallery-item {
      max-width: 16.66%;
    }
    .gallery-caption {
      display: none;
    }
  }
  &.gallery-columns-7 {
    .gallery-item {
      max-width: 14.28%;
    }
    .gallery-caption {
      display: none;
    }
  }
  &.gallery-columns-8 {
    .gallery-item {
      max-width: 12.5%;
    }
    .gallery-caption {
      display: none;
    }
  }
  &.gallery-columns-9 {
    .gallery-item {
      max-width: 11.11%;
    }
    .gallery-caption {
      display: none;
    }
  }
}

@media screen and (min-width: 576px) {
  .gallery,
  .widget-area {
    .gallery-item {
      max-width: 25%;
    }
    &.gallery-columns-1 {
      .gallery-item {
        max-width: 100%;
      }
    }
    &.gallery-columns-2 {
      .gallery-item {
        max-width: 50%;
      }
    }
    &.gallery-columns-3 {
      .gallery-item {
        max-width: 33.33%;
      }
    }
    &.gallery-columns-4 {
      .gallery-item {
        max-width: 25%;
      }
    }
  }
}

@media screen and (min-width: 768px) {
  .gallery,
  .widget-area {
    &.gallery-columns-5 {
      .gallery-item {
        max-width: 20%;
      }
    }
    &.gallery-columns-6 {
      .gallery-item {
        max-width: 16.66%;
      }
    }
    &.gallery-columns-7 {
      .gallery-item {
        max-width: 14.28%;
      }
    }
    &.gallery-columns-8 {
      .gallery-item {
        max-width: 12.5%;
      }
    }
    &.gallery-columns-9 {
      .gallery-item {
        max-width: 11.11%;
      }
    }
  }
}
